# =======================
# Application Settings
# =======================
server.port=${SEVER_PORT}
spring.application.name=${SPRING_APPLICATION_NAME=sludi}

# =======================
# Fabric Properties
# =======================
fabric.msp-id=${FABRIC_MSP_ID}
fabric.channel-name=${FABRIC_CHANNEL_NAME}
fabric.chaincode-name=${FABRIC_CHAINCODE_NAME}
fabric.crypto-path=${FABRIC_CRYPTO_PATH}
fabric.peer-endpoint=${FABRIC_PEER_ENDPOINT}
fabric.override-auth=${FABRIC_OVERRIDE_AUTH}
fabric.wallet.path=${FABRIC_WALLET_PATH}

# Local development paths
fabric.base-path=${FABRIC_BASE_PATH}

# Org1 Configuration
fabric.org1.msp-id=${FABRIC_ORG1_MSP_ID}
fabric.org1.channel-name=${FABRIC_ORG1_CHANNEL_NAME}
fabric.org1.chaincode-name=${FABRIC_ORG1_CHAINCODE_NAME}
fabric.org1.peer-endpoint=${FABRIC_ORG1_PEER_ENDPOINT}
fabric.org1.orderer-endpoint=${FABRIC_ORG1_ORDERER_ENDPOINT}
fabric.org1.ca-endpoint=${FABRIC_ORG1_CA_ENDPOINT}

# Org2 Configuration
fabric.org2.msp-id=${FABRIC_ORG2_MSP_ID}
fabric.org2.channel-name=${FABRIC_ORG2_CHANNEL_NAME}
fabric.org2.chaincode-name=${FABRIC_ORG2_CHAINCODE_NAME}
fabric.org2.peer-endpoint=${FABRIC_ORG2_PEER_ENDPOINT}
fabric.org2.orderer-endpoint=${FABRIC_ORG2_ORDERER_ENDPOINT}
fabric.org2.ca-endpoint=${FABRIC_ORG2_CA_ENDPOINT}

# =======================
# Organization DID Signing
# =======================
sludi.organization.private-key-path=${SLUDI_ORGANIZATION_PRIVATE_KEY_PATH}
sludi.organization.certificate-path=${SLUDI_ORGANIZATION_CERTIFICATE_PATH}
sludi.organization.msp-id=${SLUDI_ORGANIZATION_MSP_ID}
sludi.issuer-did=${SLUDI_ISSUER_DID}

# =======================
# Digital Signature Settings
# =======================
sludi.signature.algorithm=SHA256withRSA
sludi.signature.canonical-format=msp=%s&nic=%s&did=%s&timestamp=%s&purpose=DIDCreation
sludi.signature.proof-type=RsaSignature2018

# =======================
# Security Configuration
# =======================
sludi.security.key-store.enabled=true
sludi.security.signature.verification.enabled=true
sludi.security.signature.audit.enabled=true
security.jwt.secret-key=${JWT_SECRET_KEY}
# 15 mins
security.jwt.access.expiration-time=3600000
# 7 days
security.jwt.refresh.expiration-time=604800000

# =======================
# Database Properties
# =======================
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# Hibernate
spring.jpa.hibernate.ddl-auto=update

# Hikari settings
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.pool-name=HikariPool-1

# =======================
# IPFS Properties
# =======================
ipfs.api.host=${IPFS_API_HOST}
ipfs.api.port=${IPFS_API_PORT}
ipfs.gateway.url=${IPFS_GATEWAY_URL}
sludi.ipfs.encryption.enabled=true
sludi.ipfs.pin.enabled=true
sludi.ipfs.timeout.seconds=30
sludi.ipfs.retry.attempts=3

# =======================
# JWT Properties
# =======================
sludi.jwt.secret=8SP33IdzuQBMoM3i4QSKvdGAuh4CnGtKBhNgQ0bDaGY=
sludi.jwt.access-token-expiration=3600
sludi.jwt.refresh-token-expiration=2592000

# =======================
# Encryption Key
# =======================
sludi.encryption.key=1ZW+/JQo+9M9OE+O6rVWZaJYn6xfzoDyLxVDYOUzJqg=

# =======================
# File Upload
# =======================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# =======================
# Logging
# =======================
logging.level.org.example.sludi.service.FabricDigitalSignatureService=INFO
logging.level.org.example.sludi.service.HyperledgerService=INFO

# =======================
# SMTP Configuration
# =======================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=infosludi@gmail.com
spring.mail.password=mwlsiawdpdinbiza
spring.mail.properties.mail.transport.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# =======================
# Redis Caches
# =======================
spring.redis.host=${REDIS_HOST}
spring.redis.port=${REDIS_PORT}
spring.redis.password=${REDIS_PASSWORD}
spring.redis.timeout=2000ms
spring.data.redis.repositories.enabled=false

# =======================
# Audit & Monitoring
# =======================
sludi.audit.signature-operations.enabled=true
sludi.audit.signature-operations.log-path=/var/log/sludi/signature-audit.log

# =======================
# Error Handling
# =======================
sludi.error.signature-failure.retry-attempts=3
sludi.error.signature-failure.retry-delay=1000

# Suppress Spring Security UserDetailsService warning
logging.level.org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer=ERROR


# =======================
# Development / Testing
# =======================
sludi.dev.signature.mock-enabled=false
sludi.dev.signature.validation-strict=true